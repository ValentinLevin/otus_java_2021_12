/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.3/samples
 * This project uses @Incubating APIs which are subject to change.
 */
plugins {
  id 'idea'
  id 'io.spring.dependency-management' version '1.0.11.RELEASE'
  id 'com.github.johnrengelman.shadow' version '7.1.2' apply false
}

idea {
  project {
    languageLevel = 17
  }
  
  module {
    downloadJavadoc = true
    downloadSources = true
  }
}

allprojects {
  group 'com.example'

  repositories {
    mavenLocal()
    mavenCentral()
  }

  apply plugin : 'io.spring.dependency-management'
  dependencyManagement {
    imports {
      mavenBom("org.springframework.boot:spring-boot-dependencies:2.6.4")
    }

    dependencies {
      dependency("com.google.guava:guava:${Version.guava}")
      dependency("org.ow2.asm:asm-commons:${Version.ASM}")

      dependency("org.testcontainers:junit-jupiter:${Version.testContainers}")
      dependency("org.testcontainers:postgresql:${Version.testContainers}")

      dependency("org.eclipse.jetty:jetty-servlet:${Version.jetty}")
      dependency("org.eclipse.jetty:jetty-server:${Version.jetty}")
      dependency("org.eclipse.jetty:jetty-webapp:${Version.jetty}")
      dependency("org.eclipse.jetty:jetty-security:${Version.jetty}")
      dependency("org.eclipse.jetty:jetty-http:${Version.jetty}")
      dependency("org.eclipse.jetty:jetty-io:${Version.jetty}")
      dependency("org.eclipse.jetty:jetty-util:${Version.jetty}")
      dependency("org.reflections:reflections:${Version.reflections}")
    }
  }

  configurations.all {
    resolutionStrategy {
      failOnVersionConflict()
    }
  }
}